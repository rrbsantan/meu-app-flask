<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Vendedores - Gestão de Rotas</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f3f4f6; }
        .container { max-width: 1100px; margin: 40px auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 12px #0001; padding: 32px; }
        h2 { color: #0a2a66; text-align: center; }
        .cards { display: flex; flex-wrap: wrap; gap: 24px; justify-content: center; margin-top: 24px; }
        .card { background: #f9fafb; border-radius: 8px; box-shadow: 0 1px 4px #0001; width: 260px; padding: 18px 14px; display: flex; flex-direction: column; align-items: center; }
        .card h3 { margin: 0 0 8px 0; color: #0a2a66; font-size: 1.1em; }
        .card img { width: 180px; height: 110px; object-fit: cover; border-radius: 4px; margin-bottom: 10px; background: #e5e7eb; }
        .card .btns { display: flex; gap: 8px; margin-top: 10px; }
        .card .btns a { background: #0a2a66; color: #fff; padding: 6px 12px; border-radius: 4px; text-decoration: none; font-size: 0.95em; }
        .card .btns a:hover { background: #2563eb; }
        .logout { float: right; }
        .voltar { margin-bottom: 18px; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <a href="/logout" class="logout">Sair</a>
        <a href="/calendario-visual" class="voltar">&larr; Voltar ao calendário</a>
    <h2>Vendedores do dia {{ data_br }}</h2>
        <div class="cards">
            {% for v in vendedores %}
            <div class="card">
                <h3>{{ v.nome }}</h3>
                {% if v.img_path %}
                    <img src="{{ v.img_path }}" alt="Mapa">
                {% else %}
                    <div style="width:180px;height:110px;background:#e5e7eb;display:flex;align-items:center;justify-content:center;color:#bbb;">Sem miniatura</div>
                {% endif %}
                <div style="font-size:0.97em; margin:8px 0 4px 0; text-align:left; width:100%;">
                    <b>Distância:</b> {{ v.info.dist_real or '-' }}<br>
                    <b>Distância planejada:</b> {{ v.info.dist_plan or '-' }}<br>
                    <b>Custo:</b> {{ v.info.custo_real or '-' }}<br>
                    <b>Custo planejado:</b> {{ v.info.custo_plan or '-' }}<br>
                    <b>Visitas:</b> {{ v.info.visitas_real or '-' }}<br>
                    <b>Visitas planejadas:</b> {{ v.info.visitas_plan or '-' }}<br>
                    <b>Dentro/Fora planejado:</b> {{ v.info.dentro_plan or '0' }}/{{ v.info.fora_plan or '0' }}
                </div>
                <div class="btns">
                    {% if v.planilha_path %}
                    <a href="{{ v.planilha_path }}" target="_blank">Planilha</a>
                    {% endif %}
                    {% if v.mapa_path %}
                    <a href="{{ v.mapa_path }}" target="_blank">Mapa</a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
            {% if vendedores|length == 0 %}
                <p>Nenhum vendedor encontrado para este dia.</p>
            {% endif %}
        </div>
    </div>
</body>
</html>
